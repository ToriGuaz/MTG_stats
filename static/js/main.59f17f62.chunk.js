(this.webpackJsonpmtg_stats=this.webpackJsonpmtg_stats||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),l=a.n(r),o=(a(19),a(2)),s=a(10);const u=Object(s.a)({apiKey:"AIzaSyBTzfDF8Hqxob52odaaoyUmTOhbu54jbIY",authDomain:"mtgstats-864da.firebaseapp.com",databaseURL:"https://mtgstats-864da-default-rtdb.firebaseio.com",projectId:"mtgstats-864da",storageBucket:"mtgstats-864da.appspot.com",messagingSenderId:"68211953531",appId:"1:68211953531:web:3619c6cc482a2bfeeb77de",measurementId:"G-78HCZP9LD6"}),m=Object(o.a)(u);var d=e=>{let{gameId:t}=e;const a=localStorage.getItem("nombreJugador"),[r,l]=Object(n.useState)(40);Object(n.useEffect)(()=>{const e=Object(o.d)(m,`games/${t}/jugadores/${a}/vida`);Object(o.b)(e,e=>{l(e.val()||40)})},[t,a]);const s=e=>{l(e);const n=Object(o.d)(m,`games/${t}/jugadores/${a}/vida`);Object(o.f)(n,e)};return c.a.createElement("div",{className:"contenedorUsuario"},c.a.createElement("h1",null,a),c.a.createElement("h2",null,"Vida: ",r),c.a.createElement("button",{onClick:()=>s(r+1)},"+1"),c.a.createElement("button",{onClick:()=>s(r-1)},"-1"),c.a.createElement("button",{onClick:()=>s(r+5)},"+5"),c.a.createElement("button",{onClick:()=>s(r-5)},"-5"))};var b=e=>{let{opponentID:t}=e;const[a,r]=Object(n.useState)(40);return Object(n.useEffect)(()=>{if(!t)return;const e=Object(o.d)(m,`users/${t}/vida`),a=Object(o.b)(e,e=>{r(e.val()||40)});return()=>a()},[t]),t?c.a.createElement("div",{className:"oponente"},c.a.createElement("h2",null,"Oponente"),c.a.createElement("p",null,"Vida: ",a)):null};var i=e=>{let{setGameID:t}=e;const[a,r]=Object(n.useState)(""),[l,s]=Object(n.useState)("");return c.a.createElement("div",null,c.a.createElement("h2",null,"\xdanete a una partida o crea una nueva"),c.a.createElement("input",{type:"text",placeholder:"Nombre de jugador",value:l,onChange:e=>{s(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"ID de partida (opcional)",value:a,onChange:e=>{r(e.target.value)}}),c.a.createElement("button",{onClick:()=>{if(l)if(a)t(a),localStorage.setItem("userID",l);else{const e=Object(o.c)(Object(o.d)(m,"games")),a=e.key;Object(o.g)(e,{players:{[l]:{id:l}}}),t(a),localStorage.setItem("userID",l)}else alert("Por favor, ingresa un nombre.")}},"Ingresar a la partida"))};var p=function(){const[e,t]=Object(n.useState)(null),[a,r]=Object(n.useState)([]),l=localStorage.getItem("userID"),s=e=>{t(e)};return Object(n.useEffect)(()=>{if(!e)return;const t=Object(o.d)(m,`games/${e}/players`),a=Object(o.c)(t);return Object(o.g)(a,{id:l}),Object(o.b)(t,e=>{const t=e.val(),a=t?Object.values(t):[];r(a.filter(e=>e!==l))}),()=>{Object(o.e)(a)}},[e,l]),e?c.a.createElement("div",{className:"App"},e?c.a.createElement(c.a.Fragment,null,c.a.createElement(d,{userID:l}),a.length>0?a.map(e=>c.a.createElement(b,{key:b.id,opponentID:b.id})):c.a.createElement("p",null,"Esperando a que se una un oponente...")):c.a.createElement(i,{onJoinGame:t})):c.a.createElement(i,{setGameID:s})};var g=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:l}=t;a(e),n(e),c(e),r(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null))),g()}},[[11,1,2]]]);
//# sourceMappingURL=main.59f17f62.chunk.js.map