(this.webpackJsonpmtg_stats=this.webpackJsonpmtg_stats||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(10),o=a.n(s),r=(a(20),a(21),a(11)),l=a(2);const m=Object(r.a)({apiKey:"AIzaSyBTzfDF8Hqxob52odaaoyUmTOhbu54jbIY",authDomain:"mtgstats-864da.firebaseapp.com",databaseURL:"https://mtgstats-864da-default-rtdb.firebaseio.com",projectId:"mtgstats-864da",storageBucket:"mtgstats-864da.appspot.com",messagingSenderId:"68211953531",appId:"1:68211953531:web:3619c6cc482a2bfeeb77de",measurementId:"G-78HCZP9LD6"}),u=Object(l.a)(m);var b=a(8),i=a.n(b);var d=e=>{let{onJoinGame:t}=e;const[a,s]=Object(n.useState)(""),[o,r]=Object(n.useState)(""),[m,b]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=Object(l.d)(u,"games/");Object(l.b)(e,e=>{const t=e.val(),a=t?Object.keys(t).map(e=>({nombre:e,...t[e]})):[];b(a)})},[]);return c.a.createElement("div",null,c.a.createElement("h1",null,"Magic: The Gathering - Contador de Vidas"),c.a.createElement("input",{type:"text",value:a,onChange:e=>{const t=e.target.value,a=/^[a-zA-Z0-9\s]*$/.test(t);if(a&&t.length<=20){const e=i.a.sanitize(t);s(e)}else a||alert("Caracteres no v\xe1lidos. Usa solo letras, n\xfameros y espacios.")},placeholder:"Ingresa tu nombre",maxLength:20}),c.a.createElement("input",{type:"text",value:o,onChange:e=>{const t=e.target.value,a=/^[a-zA-Z0-9\s]*$/.test(t);if(a&&t.length<=20){const e=i.a.sanitize(t);r(e)}else a||alert("Caracteres no v\xe1lidos. Usa solo letras, n\xfameros y espacios.")},placeholder:"Ingresa el nombre de la partida",maxLength:10}),c.a.createElement("button",{onClick:()=>{a&&o&&(Object(l.f)(Object(l.d)(u,"games/"+o),{jugadores:{[a]:{nombre:a,vida:40}}}),localStorage.setItem("nombreJugador",a),t(a,o))}},"Crear Partida"),c.a.createElement("button",{onClick:()=>{a&&o&&(localStorage.setItem("nombreJugador",a),t(a,o))}},"Unirse a Partida"))};var g=e=>{let{gameId:t}=e;const a=localStorage.getItem("nombreJugador"),[s,o]=Object(n.useState)(40);Object(n.useEffect)(()=>{const e=Object(l.d)(u,`games/${t}/jugadores/${a}/vida`);Object(l.b)(e,e=>{o(e.val()||40)})},[t,a]);const r=e=>{o(e);const n=Object(l.d)(u,`games/${t}/jugadores/${a}/vida`);Object(l.f)(n,e)};return c.a.createElement("div",{className:"contenedorUsuario"},c.a.createElement("h1",null,a),c.a.createElement("h2",null,"Vida: ",s),c.a.createElement("button",{onClick:()=>r(s+1)},"+1"),c.a.createElement("button",{onClick:()=>r(s-1)},"-1"),c.a.createElement("button",{onClick:()=>r(s+5)},"+5"),c.a.createElement("button",{onClick:()=>r(s-5)},"-5"))};var p=e=>{let{opponentID:t}=e;const[a,s]=Object(n.useState)(40);return Object(n.useEffect)(()=>{const e=Object(l.d)(u,`users/${t}/vida`);Object(l.b)(e,e=>{s(e.val())})},[t]),c.a.createElement("div",{className:"oponente"},c.a.createElement("h2",null,"Oponente"),c.a.createElement("p",null,"Vida: ",a))};var j=function(){const[e,t]=Object(n.useState)(null),[a,s]=Object(n.useState)([]),o=localStorage.getItem("userID");return Object(n.useEffect)(()=>{const t=Object(l.d)(u,`games/${e}/players`),a=Object(l.c)(t);return Object(l.g)(a,{id:o}),Object(l.b)(t,e=>{const t=e.val(),a=t?Object.values(t):[];s(a.filter(e=>e!==o))}),()=>{Object(l.e)(a)}},[e,o]),c.a.createElement("div",{className:"App"},null===e?c.a.createElement(d,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{userID:o}),a.map(e=>c.a.createElement(p,{key:e,opponentID:e}))))};var O=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,23)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:s,getTTFB:o}=t;a(e),n(e),c(e),s(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null))),O()}},[[12,1,2]]]);
//# sourceMappingURL=main.79e408a4.chunk.js.map