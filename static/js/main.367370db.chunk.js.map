{"version":3,"sources":["Styles/Imgs/logo.svg","firebaseConfig.js","Componets/LandingPage.jsx","Componets/PrincipalPlayer.jsx","Componets/Opponent.jsx","Componets/Game.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getDatabase","LandingPage","_ref","onGameSelect","inputGameName","setGameName","useState","inputPlayerName","setPlayerName","games","setGames","gameArray","useRef","useEffect","gamesRef","ref","onValue","snapshot","data","val","gameList","Object","keys","map","id","gameName","current","savedPlayerName","localStorage","getItem","removePlayerFromPreviousGame","previousGameID","playerID","playerRef","remove","then","console","log","gameRef","players","length","catch","error","React","createElement","className","type","placeholder","value","onChange","e","target","htmlFor","gameID","alert","push","key","setItem","set","playerName","life","mana","a","b","c","d","x","handleGameSelect","disabled","selected","game","onClick","createGame","namesArray","includes","newGameRef","newGameID","message","PrincipalPlayer","setLife","setMana","showManaButtons","setShowManaButtons","changeLife","newLife","update","changeMana","newMana","unsubscribe","undefined","JSON","stringify","color","Opponent","opponentID","lifeCount","setLifeCount","opponentName","setOpponentName","warn","entries","filter","_ref2","_","_ref3","Game","setPlayers","principalPlayerID","dbRef","get","child","exists","removeItem","src","logo","alt","App","setGameID","isLandingPageVisible","setIsLandingPageVisible","checked","toggleLandingPage","prev","viewBox","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.367370db.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.3b45b588.svg\";","import { initializeApp } from \"firebase/app\";\r\nimport { getDatabase, ref, set, push, onValue, remove, update } from \"firebase/database\";\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBTzfDF8Hqxob52odaaoyUmTOhbu54jbIY\",\r\n  authDomain: \"mtgstats-864da.firebaseapp.com\",\r\n  databaseURL: \"https://mtgstats-864da-default-rtdb.firebaseio.com\",\r\n  projectId: \"mtgstats-864da\",\r\n  storageBucket: \"mtgstats-864da.appspot.com\",\r\n  messagingSenderId: \"68211953531\",\r\n  appId: \"1:68211953531:web:3619c6cc482a2bfeeb77de\",\r\n  measurementId: \"G-78HCZP9LD6\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getDatabase(app);\r\n\r\nexport { db, ref, set, push, onValue, remove, update };","import React, { useState, useEffect, useRef } from 'react';\r\nimport { ref, push, set, onValue, remove } from 'firebase/database';\r\nimport { db } from '../firebaseConfig';\r\n\r\n\r\nfunction LandingPage({ onGameSelect }) {\r\n  const [inputGameName, setGameName] = useState('');\r\n  const [inputPlayerName, setPlayerName] = useState('');\r\n  const [games, setGames] = useState([]);\r\n  const gameArray = useRef([]);\r\n\r\n  useEffect(() => {\r\n    const gamesRef = ref(db, 'games');\r\n\r\n    onValue(gamesRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        const gameList = Object.keys(data).map((id) => ({\r\n          id,\r\n          gameName: data[id].gameName,\r\n        }));\r\n        gameArray.current = gameList;\r\n        setGames(gameList);\r\n      }\r\n    });\r\n    \r\n    const savedPlayerName = localStorage.getItem('playerName');\r\n    if (savedPlayerName) setPlayerName(savedPlayerName);\r\n    \r\n  }, []);\r\n\r\n  const removePlayerFromPreviousGame = () => {\r\n    const previousGameID = localStorage.getItem('gameID');\r\n    const playerID = localStorage.getItem('playerID');\r\n    \r\n    if (previousGameID && playerID) {\r\n      const playerRef = ref(db, `games/${previousGameID}/players/${playerID}`);\r\n      remove(playerRef)\r\n        .then(() => {\r\n          console.log(\"Jugador eliminado de la partida anterior\");\r\n\r\n          const gameRef = ref(db, `games/${previousGameID}/players`);\r\n          onValue(gameRef, (snapshot) => {\r\n            const players = snapshot.val();\r\n            if (!players || Object.keys(players).length === 0) {\r\n              remove(ref(db, `games/${previousGameID}`))\r\n                .then(() => console.log(\"Partida eliminada\"))\r\n                .catch((error) => console.error(\"Error al eliminar partida:\", error));\r\n            }\r\n          });\r\n        })\r\n        .catch((error) => console.error(\"Error al eliminar jugador:\", error));\r\n    }\r\n  };\r\n\r\n  const handleGameSelect = (gameID) => {\r\n    if (!inputPlayerName) {\r\n      return alert(\"Error: Por favor ingresa un nombre de jugador.\");\r\n    }\r\n    if (gameID !== localStorage.getItem('gameID')) {\r\n      removePlayerFromPreviousGame();\r\n     \r\n    const playerID = localStorage.getItem('playerID') || push(ref(db, 'games')).key;\r\n    localStorage.setItem('playerID', playerID);\r\n    localStorage.setItem('playerName', inputPlayerName);\r\n    localStorage.setItem('gameID', gameID);\r\n\r\n    const gameRef = ref(db, `games/${gameID}/players/${playerID}`);\r\n\r\n    set(gameRef, {\r\n      playerName: inputPlayerName,\r\n      life: 40,\r\n      mana: {\r\n        a: 0,\r\n        b: 0,\r\n        c: 0,\r\n        d: 0,\r\n        e: 0,\r\n        x: 0,\r\n      },\r\n    \r\n    })\r\n      .then(() => {\r\n        alert(\"Jugador añadido a la partida existente\");\r\n        onGameSelect(gameID);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error al añadir jugador:\", error);\r\n      });\r\n  }\r\n};\r\n\r\n  const createGame = () => {\r\n    if (!inputPlayerName) {\r\n      return alert(\"Error: Por favor ingresa un nombre de jugador.\");\r\n    }\r\n    const namesArray = gameArray.current.map(game => game.gameName);\r\n\r\n    if (!inputGameName) {\r\n      return alert(\"Error: Por favor ingresa un nombre de partida.\");\r\n    }\r\n    if (namesArray.includes(inputGameName)) {\r\n      return alert(\"Error: partida ya existente\");\r\n    } else {\r\n      removePlayerFromPreviousGame();\r\n\r\n      const playerID = localStorage.getItem('playerID') || push(ref(db, 'games')).key;\r\n      localStorage.setItem('playerID', playerID);\r\n      localStorage.setItem('playerName', inputPlayerName);\r\n\r\n      const newGameRef = push(ref(db, 'games'));\r\n      const newGameID = newGameRef.key;\r\n      localStorage.setItem('gameID', newGameID);\r\n\r\n      set(newGameRef, {\r\n        gameName: inputGameName,\r\n        players: {\r\n          [playerID]: {\r\n            playerName: inputPlayerName,\r\n            life: 40,\r\n            mana: {\r\n              a: 0,\r\n              b: 0,\r\n              c: 0,\r\n              d: 0,\r\n              e: 0,\r\n              x: 0,\r\n            },\r\n          },\r\n        },\r\n      })\r\n        .then(() => {\r\n          alert(\"Partida creada\");\r\n          onGameSelect(newGameID);\r\n        })\r\n        .catch((error) => {\r\n          alert(\"Error: \" + error.message);\r\n        });\r\n    }\r\n  \r\n  \r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"landingPage\">\r\n      \r\n\r\n      <label>Únete o crea una partida</label>\r\n      <input\r\n        className='input'\r\n        type=\"text\"\r\n        placeholder=\"Nombre de jugador\"\r\n        value={inputPlayerName}\r\n        onChange={(e) => setPlayerName(e.target.value)}\r\n      />\r\n\r\n      <div>\r\n        <label htmlFor=\"gameSelect\">Elige un juego ya creado: </label>\r\n        <select className='select' id=\"gameSelect\" onChange={(e) => handleGameSelect(e.target.value)}>\r\n          <option value=\"\" disabled selected>Seleccionar partida</option>\r\n          {games.map((game) => (\r\n            <option key={game.id} value={game.id}>\r\n              {game.gameName}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <input\r\n        className='input'\r\n        type=\"text\"\r\n        placeholder=\"Crear partida\"\r\n        value={inputGameName}\r\n        onChange={(e) => setGameName(e.target.value)}\r\n      />\r\n      <button onClick={createGame}>Crear partida</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LandingPage;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { ref, onValue, update } from 'firebase/database';\r\nimport { db } from '../firebaseConfig';\r\n\r\nconst PrincipalPlayer = ({ gameID }) => {\r\n  const playerID = localStorage.getItem('playerID');\r\n  const playerRef = ref(db, `games/${gameID}/players/${playerID}`);\r\n\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [life, setLife] = useState(40);\r\n  const [mana, setMana] = useState({\r\n    a: 0,\r\n    b: 0,\r\n    c: 0,\r\n    d: 0,\r\n    e: 0,\r\n    x: 0,\r\n  });\r\n\r\n  const [showManaButtons, setShowManaButtons] = useState(false);\r\n\r\n  // Cambiar vida y sincronizar con Firebase\r\n  const changeLife = (newLife) => {\r\n    setLife(newLife);\r\n    update(playerRef, { life: newLife });\r\n  };\r\n\r\n  const changeMana = (type, value) => {\r\n    const newMana = { ...mana, [type]: mana[type] + value };\r\n    setMana(newMana);\r\n    update(playerRef, { mana: newMana });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onValue(playerRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        setPlayerName(data.playerName || '');\r\n        setLife(data.life !== undefined ? data.life : 40);\r\n\r\n        if (JSON.stringify(data.mana) !== JSON.stringify(mana)) {\r\n          setMana(data.mana || {\r\n            a: 0,\r\n            b: 0,\r\n            c: 0,\r\n            d: 0,\r\n            e: 0,\r\n            x: 0,\r\n          });\r\n        }\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, [playerRef, mana]);\r\n\r\n  return (\r\n    <div className=\"principalPlayer\">\r\n      <div className=\"infoPP\">\r\n        <h2>{playerName}</h2>\r\n        <h1>{life}</h1>\r\n      </div>\r\n      <ul className=\"lifeButtons\">\r\n        <li>\r\n          <button onClick={() => changeLife(life - 1)}>-1</button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => changeLife(life + 1)}>+1</button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => changeLife(life - 5)}>-5</button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => changeLife(life + 5)}>+5</button>\r\n        </li>\r\n      </ul>\r\n\r\n      {/* Botón Hamburguesa para los contadores de mana */}\r\n      <button\r\n        className=\"manaToggleButton\"\r\n        onClick={() => setShowManaButtons(!showManaButtons)}\r\n      >\r\n        {showManaButtons ? 'Mana' : 'Mana'}\r\n      </button>\r\n\r\n      {/* Contadores de mana */}\r\n      {showManaButtons && (\r\n        <div className=\"mana\">\r\n          {Object.keys(mana).map((color) => (\r\n            <div className=\"manaContenedor\" key={color}>\r\n              <p className='manaText'>\r\n                {color} {mana[color]}\r\n              </p>\r\n              <button className=\"manaButtons\" onClick={() => changeMana(color, -1)}>-</button>\r\n              <button className=\"manaButtons\" onClick={() => changeMana(color, +1)}>+</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrincipalPlayer;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { ref, onValue } from 'firebase/database';\r\nimport { db } from '../firebaseConfig';\r\n\r\nconst Opponent = ({ opponentID, gameID }) => {\r\n  const [lifeCount, setLifeCount] = useState(40);\r\n  const [opponentName, setOpponentName] = useState('');\r\n  const [mana, setMana] = useState({\r\n    a: 0,\r\n    b: 0,\r\n    c: 0,\r\n    d: 0,\r\n    e: 0,\r\n    x: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!opponentID || !gameID) {\r\n      console.warn(\"Missing opponentID or gameID:\", { opponentID, gameID });\r\n      return;\r\n    }\r\n\r\n    const playerRef = ref(db, `games/${gameID}/players/${opponentID}`);\r\n\r\n    onValue(playerRef, (snapshot) => {\r\n      const data = snapshot.val();\r\n      if (data) {\r\n        setOpponentName(data.playerName || 'Jugador sin nombre');\r\n        setLifeCount(data.life !== undefined ? data.life : 40);\r\n        setMana({\r\n          a: data.mana.a || 0,\r\n          b: data.mana.b || 0,\r\n          c: data.mana.c || 0,\r\n          d: data.mana.d || 0,\r\n          e: data.mana.e || 0,\r\n          x: data.mana.x || 0,\r\n        });\r\n      } else {\r\n        console.log('Datos del oponente no encontrados.');\r\n      }\r\n    });\r\n  }, [opponentID, gameID]);\r\n\r\n  return (\r\n    <div className=\"oponente\">\r\n      <p>{opponentName}</p>\r\n      <h2>{lifeCount}</h2>\r\n      <ul>\r\n        {Object.entries(mana)\r\n          .filter(([_, value]) => value !== 0) \r\n          .map(([type, value]) => (\r\n            <li className='mana' key={type}>\r\n              {type} {value}\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Opponent;\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport PrincipalPlayer from './PrincipalPlayer';\r\nimport { ref, get, getDatabase, child } from 'firebase/database';\r\nimport Opponent from './Opponent';\r\nimport logo from '../Styles/Imgs/logo.svg';\r\n\r\nfunction Game({ gameID }) {\r\n  const [gameName, setGameName] = useState('');\r\n  const [players, setPlayers] = useState([]); \r\n  const principalPlayerID = localStorage.getItem('playerID');   \r\n\r\n  if (!gameID && localStorage.getItem(\"gameID\")) {\r\n    gameID = localStorage.getItem(\"gameID\");\r\n  } \r\n\r\n  useEffect(() => {\r\n    if (gameID) {\r\n      const dbRef = ref(getDatabase());\r\n  \r\n      get(child(dbRef, `games/${gameID}`))\r\n        .then((snapshot) => {\r\n          if (snapshot.exists()) {\r\n            const data = snapshot.val();\r\n            setGameName(data.gameName); \r\n            \r\n            if (data.players) {\r\n              setPlayers(Object.keys(data.players)); \r\n            } else {\r\n              setPlayers([]); \r\n            }\r\n          } else {\r\n            // El juego no existe, limpiamos el localStorage y reiniciamos el estado\r\n            console.log(\"El juego no existe, eliminando gameID\");\r\n            localStorage.removeItem(\"gameID\");\r\n            setGameName('');\r\n            setPlayers([]);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    }\r\n  }, [gameID]);\r\n\r\n  if (!gameID || !principalPlayerID || !gameName) {\r\n    return (\r\n      <div className=\"game\">\r\n        <h2 className=\"gameName\">Por favor, selecciona o crea una partida.</h2>\r\n        <img className='logo' src={logo} alt=\"Logo\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className='game'>\r\n      <h2 className='gameName'> Partida: {gameName}</h2>\r\n      <PrincipalPlayer gameID={gameID} />\r\n      <ul className=\"listaDeOponentes\">\r\n        {players\r\n          .filter((playerID) => playerID !== principalPlayerID)\r\n          .map((playerID) => {\r\n            return (\r\n              <li key={playerID}>\r\n                <Opponent opponentID={playerID} gameID={gameID} />\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n","import React, { useState } from 'react';\r\nimport LandingPage from './Componets/LandingPage';\r\nimport Game from './Componets/Game';\r\nimport './Styles/app.css';\r\n\r\nfunction App() {\r\n  const [gameID, setGameID] = useState('');\r\n  const [isLandingPageVisible, setIsLandingPageVisible] = useState(false);\r\n\r\n  const handleSetGameID = (id) => {\r\n    setGameID(id);\r\n    setIsLandingPageVisible(false); \r\n  };\r\n\r\n  const toggleLandingPage = () => {\r\n    setIsLandingPageVisible((prev) => !prev);\r\n    console.log(isLandingPageVisible);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <label className=\"hamburger\">\r\n        <input type=\"checkbox\" checked={isLandingPageVisible} onChange={toggleLandingPage} />\r\n        <svg viewBox=\"0 0 32 32\">\r\n          <path\r\n            className=\"line line-top-bottom\"\r\n            d=\"M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22\"\r\n          ></path>\r\n          <path className=\"line\" d=\"M7 16 27 16\"></path>\r\n        </svg>\r\n      </label>\r\n  \r\n      {isLandingPageVisible && (\r\n        <LandingPage onGameSelect={handleSetGameID} />\r\n      )}\r\n  \r\n      <Game gameID={gameID} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './Styles/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}