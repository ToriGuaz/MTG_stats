(this.webpackJsonpmtg_stats=this.webpackJsonpmtg_stats||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(9),r=a.n(l),o=(a(19),a(2)),m=a(10);const s=Object(m.a)({apiKey:"AIzaSyBTzfDF8Hqxob52odaaoyUmTOhbu54jbIY",authDomain:"mtgstats-864da.firebaseapp.com",databaseURL:"https://mtgstats-864da-default-rtdb.firebaseio.com",projectId:"mtgstats-864da",storageBucket:"mtgstats-864da.appspot.com",messagingSenderId:"68211953531",appId:"1:68211953531:web:3619c6cc482a2bfeeb77de",measurementId:"G-78HCZP9LD6"}),u=Object(o.c)(s);var i=function(e){let{onGameSelect:t}=e;const[a,l]=Object(n.useState)([]);return Object(n.useEffect)(()=>{const e=Object(o.f)(u,"games");Object(o.d)(e,e=>{const t=e.val();if(t){const e=Object.keys(t).map(e=>({id:e,gameName:t[e].gameName}));l(e)}})},[]),c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("label",{htmlFor:"gameSelect"},"Elige un juego ya creado:"),c.a.createElement("select",{id:"gameSelect",onChange:e=>{const a=e.target.value;console.log("Juego seleccionado con ID:",a),t(a)}},a.map(e=>c.a.createElement("option",{key:e.id,value:e.id},e.gameName)))))};var b=function(e){let{onGameSelect:t}=e;const[a,l]=Object(n.useState)(""),[r,m]=Object(n.useState)(""),[s,b]=Object(n.useState)([]),g=Object(n.useRef)([]);return Object(n.useEffect)(()=>{const e=Object(o.f)(u,"games");Object(o.d)(e,e=>{const t=e.val();if(t){const e=Object.keys(t).map(e=>({id:e,gameName:t[e].gameName}));g.current=e,b(e)}})},[]),c.a.createElement("div",null,c.a.createElement("p",null,"\xdanete a una partida o crea una nueva"),c.a.createElement("input",{type:"text",placeholder:"Nombre de jugador",value:r,onChange:e=>m(e.target.value)}),c.a.createElement(i,{onGameSelect:t}),c.a.createElement("input",{type:"text",placeholder:"Crear partida",value:a,onChange:e=>l(e.target.value)}),c.a.createElement("button",{onClick:async()=>{if(g.current.map(e=>e.gameName).includes(a))return alert("Error: partida ya existente MAMERTO");{const e=localStorage.getItem("playerID")||Object(o.e)(Object(o.f)(u,"games")).key;localStorage.setItem("playerID",e);const n=Object(o.e)(Object(o.f)(u,"games")),c=n.key;Object(o.g)(n,{gameName:a,players:{[e]:{playerName:r,life:40,counter:0}}}).then(()=>{alert("Partida creada"),t(c)}).catch(e=>{alert("Error: "+e.message)})}}},"Crear partida"))};var g=()=>{const[e,t]=Object(n.useState)(40),[a,l]=Object(n.useState)(0),r=a=>{t(e+a)};return c.a.createElement("div",null,c.a.createElement("h2",null,"PrincipalPlayer"),c.a.createElement("p",null,"Vida: ",e),c.a.createElement("p",null,"Counter: ",a),c.a.createElement("ul",{className:"lifeButtons"},c.a.createElement("li",null,c.a.createElement("button",{onClick:()=>r(1)},"+1")),c.a.createElement("li",null,c.a.createElement("button",{onClick:()=>r(-1)},"-1")),c.a.createElement("li",null,c.a.createElement("button",{onClick:()=>r(5)},"+5")),c.a.createElement("li",null,c.a.createElement("button",{onClick:()=>r(-5)},"-5"))),c.a.createElement("button",{className:"counterButton",onClick:()=>{l(a+1)}},"Counter"))};var d=function(){const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[r,m]=Object(n.useState)([]);return Object(n.useEffect)(()=>{if(a){const e=Object(o.f)(Object(o.c)());Object(o.b)(Object(o.a)(e,"games/"+a)).then(e=>{if(e.exists()){const a=e.val();t(a.gameName),a.players?m(Object.values(a.players)):m([])}else console.log("No data available")}).catch(e=>{console.error(e)})}},[a]),c.a.createElement("div",null,c.a.createElement(b,{onGameSelect:e=>{l(e)}}),c.a.createElement("h2",null,"Partida: ",e),c.a.createElement(g,null),c.a.createElement("ul",null,r.map((e,t)=>c.a.createElement("li",{key:t},e.playerName,": ",e.life))))};var p=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:l,getTTFB:r}=t;a(e),n(e),c(e),l(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d,null))),p()}},[[11,1,2]]]);
//# sourceMappingURL=main.a38ad2d1.chunk.js.map